<html>
<head>
<style>
.search2{
margin-top:7px;
margin-bottom:50px;
margin-left:50px;margin-right:50px;
border:3px solid red;
background-color:#FCF3CF;
border-radius:10px;
margin-left:200px;
margin-right:200px;
padding:20px;}
.search1{
background-color:brown;
height:30%;}
img{
float:right;
margin-top:-100px;
margin-right:50px;
height:100%;}
p1{font-size:30px;
text-align:center;}form li {
list-style: none;
margin-bottom: 5px;
}.p1{
font-size:40px;
text-align:center;
color:white;
}#bottom{
  background-color:black;
  height:30%;
 }
 #bottom{
  display:flex;
  gap:3rem;
  justify-content:space-between;

 }
 #bottom .bottom1{
  flex:1 1 30rem;
 }
 #bottom .bottom1 a{margin-top:30px;
  display:block;
 }
 
 
 #bottom .bottom1 a span{
  color:white;
  font-size:20px;
 }
 #bottom .bottom1 :firsr-child{
  margin-left:1 rem;
 }
 #bottom .bottom1 :firsr-child{
  margin-right:100px;
 }*{
text-decoration:none;}*{padding:0;
text-decoration:none;}
.navbar{
  position:fixed;
  overflow: hidden;
  height:10%;
  width:100%;
  top:0;
}
.navbar {
  background-color: rgb(22, 7, 36);
  display: flex;
  justify-content: space-around;
  align-items: center;
  line-height: 5rem;
}
.right ul {
  display: flex;
  list-style: none;
}

.right ul li a {
  padding: 10px 20px;
  font-size: 1.2rem;
  color: white;
  cursor: pointer;
  text-decoration: none;
  transition: all 1s;
}
.search1{
margin-top:70px;}
.right ul li a:hover {
  background-color: #fff;
  border-radius: 15px;
  color: rgb(22, 7, 36);
}
.heading{
  color:white;
  font-size:40px;
}
*{
  font-family: Arial, Helvetica, sans-serif;
}

.arrow{float:right;
margin-top:200px;
height:10%;
width:6%;}
button{
font-size:20px;}
</style>
</head>
<body><nav class="navbar">
        <div class="left">
            <h1 class="heading">Donor2Needer</h1>
        </div>
        <div class="right">
            
            <ul class="list">
                <li><a href="mini.html">Home</a></li>
                <li><a href="index.html">Register</a></li>
                <li><a href="complaint.html">Complaint Box</a></li>
                <li><a href="aboutus.html">About Us</a></li>
                <li><a href="#face">Contact Us</a></li>
             <li><a href="search.php">Search Donar</a></li>
            </ul>
        </div>
    </nav>
<div class="search1">
<H1 align="center">DONAR2NEEDER</H1>
<H6 align="center">CONNECTING DONAR AND NEEDER</H6>
<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhD1w4I2s9X7HwBYecHJpfZrMApKS1RI-5xkcWeucYYjjUzed1c7wV85ualAxET8Y1BsQ&usqp=CAU">
<p class="p1"><q>donate blood and give life to others</q></p></div>
<div class="search2"><form method="POST" align="center"><li><label for="state"><pre><font size="5px">Select city:</font></label>        <select name="country">
<option selected="" value="Default">(Please select city)</option>

  <option value="Tadpatri" name="Tadpatri">Tadpatri</option>
  <option value="Anantapur" name="Anantapur">Anantapur</option>
  <option value="Dharmavaram" name="Dharmavaram">Dharmavaram</option>
  <option value="Srikalahasti" name="Srikalahasti">Srikalahasti</option>
  <option value="Tirupati" name="Tirupati">Tirupati</option>
  <option value="Madanapalle" name="Madanapalle">Madanapalle</option>
  <option value="Nagari" name="Nagari">Nagari</option>
  <option value="Puttur" name="Puttur">Puttur</option>
  <option value="Chittoor" name="Chittoor">Chittoor</option>
  <option value="Tuni" name="Tuni">Tuni</option>
  <option value="Peddapuram" name="Peddapuram">Peddapuram</option>
  <option value="Rajahmundry" name="Rajahmundry">Rajahmundry</option>
  <option value="Samalkot" name="Samalkot">Samalkot</option>
  <option value="Pithapuram" name="Pithapuram">Pithapuram</option>
  <option value="Kakinada" name="Kakinada">Kakinada</option>
  <option value="Macherla" name="Macherla">Macherla</option>
  <option value="Piduguralla" name="Piduguralla">Piduguralla</option>
  <option value="Tadepalle" name="Tadepalle">Tadepalle</option>
  <option value="Mangalagiri" name="Mangalagiri">Mangalagiri</option>
  <option value="Sattenapalle" name="Sattenapalle">Sattenapalle</option>
  <option value="Narasaraopet" name="Narasaraopet">Narasaraopet</option>
  <option value="Chilakaluripet" name="Chilakaluripet">Chilakaluripet</option>
  <option value="Guntur" name="Guntur">Guntur</option>
  <option value="Tenali" name="Tenali">Tenali</option>
  <option value="Ponnur" name="Ponnur">Ponnur</option>
  <option value="Bapatla" name="Bapatla">Bapatla</option>
  <option value="Repalle" name="Repalle">Repalle</option>
  <option value="Vijayawada" name="Vijayawada">Vijayawada</option>
  <option value="Gudivada" name="Gudivada">Gudivada</option>
  <option value="Machilipatnam" name="Machilipatnam">Machilipatnam</option>
  <option value="Kurnool" name="Kurnool">Kurnool</option>
  <option value="Chirala" name="Chirala">Chirala</option>
  <option value="Ongole" name="Ongole">Ongole</option>
  <option value="Nellore" name="Nellore">Nellore</option>
  <option value="Rajam" name="Rajam">Rajam</option>
  <option value="Srikakulam" name="Srikakulam">Srikakulam</option>
  <option value="Bheemunipatnam" name="Bheemunipatnam">Bheemunipatnam</option>
  <option value="Anakapalli" name="Anakapalli">Anakapalle</option>
  <option value="Parvathipuram" name="Parvathipuram">Parvathipuram</option>
  <option value="Bobbili" name="Bobbili">Bobbili</option>
  <option value="Vizianagaram" name="Vizianagaram">Vizianagaram</option>
  <option value="Kovvur" name="Kovvur">Kovvur</option>
  <option value="Nidadavole" name="Nidadavole">Nidadavole</option>
  <option value="Tadepalligudem" name="Tadepalligudem">Tadepalligudem</option>
  <option value="Eluru" name="Eluru">Eluru</option>
  <option value="Tanuku" name="Tanuku">Tanuku</option>
  <option value="Bhimavaram" name="Bhimavaram">Bhimavaram</option>
  <option value="Narasapur" name="Narasapur">Narasapur</option>
  <option value="Visakhapatnam" name="Visakhapatnam">Visakhapatnam</option>


</pre>
</select></li><br><br>
<li><label for="bloodgrp"><pre><font size="5px">Select BloodGroup: </font>   <select name="group">
<option selected="" value="Default">(Please select blood group)</option>
<option value="A+ve">A+ve</option>
<option value="A-ve">A-ve</option>
<option value="B+ve">B+ve</option>
<option value="B-ve">B-ve</option>
<option value="o+ve">o+ve</option>
<option value="o-ve">o-ve</option>
<option value="AB+ve">AB+ve</option>
<option value="AB-ve">AB-ve</option>
</pre>
</select></li>
<input type="submit" value="search" name="searchdata"></form>
<?php
$host = "localhost";
$dbUsername = "root";
$dbPassword = "";
$dbname = "project";
$conn = new mysqli($host, $dbUsername, $dbPassword, $dbname);

if (mysqli_connect_error()) {
    die('Connection Error (' . mysqli_connect_errno() . ') ' . mysqli_connect_error());
}

if (isset($_POST['searchdata'])) {
    $search_state = $_POST['country'];
    $search_grp = $_POST['group'];

    // Prepare the SQL statement with parameter placeholders
    $sql = "SELECT * FROM `registration` WHERE addres = ? AND blood = ?";

    $stmt = $conn->prepare($sql);

    // Bind parameters to the prepared statement
    $stmt->bind_param("ss", $search_state, $search_grp);

    // Execute the prepared statement
    $stmt->execute();

    // Get the result set
    $result = $stmt->get_result();
    $search_state = $_POST['country'];
    $search_grp = $_POST['group'];
    
    // Debugging output
    echo "Search State: " . $search_state . "<br>";
    echo "Search Group: " . $search_grp . "<br>";
    
    if ($result) {
        $num = $result->num_rows;
        if ($num > 0) {
            echo "Number of matching donors: " . $num;
            // You can display the details of the matching donors here using a loop
            while ($row = $result->fetch_assoc()) {
                echo "<p>Name: " . $row['fname'] . ", Blood Group: " . $row['blood'] . ", Address: " . $row['addres'] . ",phone: ".$row['phone']. "</p>";
            }
        } else {
            echo "No donors found for the selected criteria.";
        }
    } else {
        echo "Error executing the query: " . $conn->error;
    }

    // Close the statement
    $stmt->close();
}

// Close the connection
$conn->close();
?>


</table>
</div>
</div>
<div id="bottom"><div class="bottom1">
<a href="complaint.html"><span>Complaint Box</span></a>
<a href="index.html"><span>register</span></a>
<a href="search.php"><span>Search a donar</span></a>
</div><br><br>
<div class="bottom1">
<a href="#tips"><span>Tips</span></a>
<a href="#"><span>benefits</span></a>
<a href="#"><span>Learn about donation</span></a>
</div><div class="bottom1">
<a href="aboutus.html"><span>about us</span></a>
<a href="#face"><span>contact us</span></a>
</div></div>
<div id="face">
<h2 class="con">DONAR2NEEDER

</h2></div><footer>
<hr>contact us:donar2needer@gmail.com<br>
&copy Copyrights 2023 DONAR2NEEDER, All rights reserved.
</footer>

</body>
</html>
